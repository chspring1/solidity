# Solidity åŸºæœ¬è¯­æ³•æ€ç»´å¯¼å›¾

## ğŸ—ï¸ HelloSolidity åˆçº¦ç»“æ„

```
HelloSolidity åˆçº¦
â”œâ”€â”€ ğŸ“‹ åˆçº¦å¤´éƒ¨
â”‚   â”œâ”€â”€ SPDX-License-Identifier: MIT
â”‚   â”œâ”€â”€ pragma solidity ^0.8.0
â”‚   â””â”€â”€ åˆçº¦æ–‡æ¡£æ³¨é‡Š
â”‚
â”œâ”€â”€ ğŸ”¢ çŠ¶æ€å˜é‡ (State Variables)
â”‚   â”œâ”€â”€ åŸºæœ¬æ•°æ®ç±»å‹
â”‚   â”‚   â”œâ”€â”€ string message - åŠ¨æ€å­—ç¬¦ä¸²ï¼ŒUTF-8ç¼–ç 
â”‚   â”‚   â”œâ”€â”€ address owner - 20å­—èŠ‚åœ°å€ï¼Œæ”¯æŒè½¬è´¦
â”‚   â”‚   â”œâ”€â”€ uint256 count - 256ä½æ— ç¬¦å·æ•´æ•°
â”‚   â”‚   â””â”€â”€ bool isActive - å¸ƒå°”å€¼ï¼Œtrue/false
â”‚   â”‚
â”‚   â”œâ”€â”€ æ•´æ•°ç±»å‹å˜ç§
â”‚   â”‚   â”œâ”€â”€ uint8 smallNumber - 8ä½æ•´æ•°(0-255)
â”‚   â”‚   â”œâ”€â”€ uint128 mediumNumber - 128ä½æ•´æ•°
â”‚   â”‚   â””â”€â”€ int256 signedNumber - æœ‰ç¬¦å·æ•´æ•°
â”‚   â”‚
â”‚   â””â”€â”€ å­—èŠ‚ç±»å‹
â”‚       â”œâ”€â”€ bytes32 fixedBytes - å›ºå®š32å­—èŠ‚
â”‚       â”œâ”€â”€ bytes1 singleByte - å•å­—èŠ‚
â”‚       â””â”€â”€ bytes dynamicBytes - åŠ¨æ€å­—èŠ‚æ•°ç»„
â”‚
â”œâ”€â”€ ğŸ—ºï¸ æ˜ å°„ (Mappings)
â”‚   â”œâ”€â”€ åŸºæœ¬æ˜ å°„
â”‚   â”‚   â”œâ”€â”€ mapping(address => uint256) balances
â”‚   â”‚   â””â”€â”€ mapping(address => bool) authorized
â”‚   â”‚
â”‚   â”œâ”€â”€ åµŒå¥—æ˜ å°„
â”‚   â”‚   â””â”€â”€ mapping(address => mapping(uint256 => bool)) nestedMapping
â”‚   â”‚
â”‚   â””â”€â”€ æ˜ å°„åˆ°ç»“æ„ä½“
â”‚       â””â”€â”€ mapping(address => Person) personData
â”‚
â”œâ”€â”€ ğŸ“Š æ•°ç»„ (Arrays)
â”‚   â”œâ”€â”€ åŠ¨æ€æ•°ç»„
â”‚   â”‚   â”œâ”€â”€ uint256[] numbers - æ•°å­—æ•°ç»„
â”‚   â”‚   â””â”€â”€ address[] users - åœ°å€æ•°ç»„
â”‚   â”‚
â”‚   â”œâ”€â”€ å›ºå®šé•¿åº¦æ•°ç»„
â”‚   â”‚   â””â”€â”€ uint256[5] fixedArray - 5å…ƒç´ æ•°ç»„
â”‚   â”‚
â”‚   â”œâ”€â”€ å¤šç»´æ•°ç»„
â”‚   â”‚   â””â”€â”€ uint256[][] matrix - äºŒç»´æ•°ç»„
â”‚   â”‚
â”‚   â””â”€â”€ å­—èŠ‚æ•°ç»„
â”‚       â””â”€â”€ bytes32[] hashList - å“ˆå¸Œåˆ—è¡¨
â”‚
â”œâ”€â”€ ğŸ¢ ç»“æ„ä½“ (Structs)
â”‚   â”œâ”€â”€ Person ç»“æ„ä½“
â”‚   â”‚   â”œâ”€â”€ string name - å§“å
â”‚   â”‚   â”œâ”€â”€ uint256 age - å¹´é¾„
â”‚   â”‚   â”œâ”€â”€ bool isRegistered - æ³¨å†ŒçŠ¶æ€
â”‚   â”‚   â”œâ”€â”€ address wallet - é’±åŒ…åœ°å€
â”‚   â”‚   â””â”€â”€ uint8 level - ç­‰çº§
â”‚   â”‚
â”‚   â””â”€â”€ Company ç»“æ„ä½“ï¼ˆåµŒå¥—ï¼‰
â”‚       â”œâ”€â”€ string companyName - å…¬å¸å
â”‚       â”œâ”€â”€ Person[] employees - å‘˜å·¥æ•°ç»„
â”‚       â”œâ”€â”€ mapping(address => bool) isEmployee - å‘˜å·¥æ˜ å°„
â”‚       â””â”€â”€ uint256 foundedYear - æˆç«‹å¹´ä»½
â”‚
â”œâ”€â”€ ğŸ·ï¸ æšä¸¾ (Enums)
â”‚   â”œâ”€â”€ Status æšä¸¾
â”‚   â”‚   â”œâ”€â”€ Pending (0) - å¾…å®š
â”‚   â”‚   â”œâ”€â”€ Active (1) - æ´»è·ƒ
â”‚   â”‚   â””â”€â”€ Inactive (2) - éæ´»è·ƒ
â”‚   â”‚
â”‚   â”œâ”€â”€ Priority æšä¸¾
â”‚   â”‚   â”œâ”€â”€ Low (0) - ä½ä¼˜å…ˆçº§
â”‚   â”‚   â”œâ”€â”€ Medium (1) - ä¸­ç­‰ä¼˜å…ˆçº§
â”‚   â”‚   â”œâ”€â”€ High (2) - é«˜ä¼˜å…ˆçº§
â”‚   â”‚   â””â”€â”€ Critical (3) - ç´§æ€¥
â”‚   â”‚
â”‚   â””â”€â”€ UserRole æšä¸¾
â”‚       â”œâ”€â”€ Guest (0) - è®¿å®¢
â”‚       â”œâ”€â”€ User (1) - ç”¨æˆ·
â”‚       â”œâ”€â”€ Admin (2) - ç®¡ç†å‘˜
â”‚       â””â”€â”€ SuperAdmin (3) - è¶…çº§ç®¡ç†å‘˜
â”‚
â”œâ”€â”€ ğŸ“ äº‹ä»¶ (Events)
â”‚   â”œâ”€â”€ MessageChanged - æ¶ˆæ¯æ›´æ”¹äº‹ä»¶
â”‚   â”‚   â”œâ”€â”€ string oldMessage
â”‚   â”‚   â””â”€â”€ string newMessage
â”‚   â”‚
â”‚   â””â”€â”€ UserAdded - ç”¨æˆ·æ·»åŠ äº‹ä»¶
â”‚       â”œâ”€â”€ address indexed user (å¯è¿‡æ»¤)
â”‚       â””â”€â”€ uint256 timestamp
â”‚
â”œâ”€â”€ ğŸ”’ ä¿®é¥°ç¬¦ (Modifiers)
â”‚   â”œâ”€â”€ onlyOwner() - ä»…æ‰€æœ‰è€…
â”‚   â”‚   â”œâ”€â”€ require(msg.sender == owner)
â”‚   â”‚   â””â”€â”€ æƒé™æ§åˆ¶
â”‚   â”‚
â”‚   â””â”€â”€ whenActive() - ä»…æ¿€æ´»æ—¶
â”‚       â”œâ”€â”€ require(isActive)
â”‚       â””â”€â”€ çŠ¶æ€æ§åˆ¶
â”‚
â”œâ”€â”€ ğŸ—ï¸ æ„é€ å‡½æ•° (Constructor)
â”‚   â”œâ”€â”€ éƒ¨ç½²æ—¶æ‰§è¡Œä¸€æ¬¡
â”‚   â”œâ”€â”€ åˆå§‹åŒ–çŠ¶æ€å˜é‡
â”‚   â”œâ”€â”€ è®¾ç½®åˆçº¦æ‰€æœ‰è€…
â”‚   â””â”€â”€ åˆå§‹åŒ–åŸºæœ¬æ•°æ®ç±»å‹
â”‚
â”œâ”€â”€ ğŸ”§ å…¬å…±å‡½æ•° (Public Functions)
â”‚   â”œâ”€â”€ çŠ¶æ€ä¿®æ”¹å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ setMessage() - è®¾ç½®æ¶ˆæ¯
â”‚   â”‚   â”œâ”€â”€ incrementCount() - å¢åŠ è®¡æ•°
â”‚   â”‚   â”œâ”€â”€ addBalance() - æ·»åŠ ä½™é¢
â”‚   â”‚   â”œâ”€â”€ addNumber() - æ·»åŠ æ•°å­—
â”‚   â”‚   â”œâ”€â”€ toggleActive() - åˆ‡æ¢çŠ¶æ€
â”‚   â”‚   â””â”€â”€ changeStatus() - æ›´æ”¹çŠ¶æ€
â”‚   â”‚
â”‚   â”œâ”€â”€ æŸ¥è¯¢å‡½æ•° (view)
â”‚   â”‚   â”œâ”€â”€ getMessage() - è·å–æ¶ˆæ¯
â”‚   â”‚   â”œâ”€â”€ getBalance() - è·å–ä½™é¢
â”‚   â”‚   â”œâ”€â”€ getNumbersLength() - è·å–æ•°ç»„é•¿åº¦
â”‚   â”‚   â””â”€â”€ getContractBalance() - è·å–åˆçº¦ä½™é¢
â”‚   â”‚
â”‚   â””â”€â”€ çº¯å‡½æ•° (pure)
â”‚       â””â”€â”€ createPerson() - åˆ›å»ºPersonç»“æ„ä½“
â”‚
â”œâ”€â”€ ğŸ› ï¸ æ•°æ®ç»“æ„æ“ä½œå‡½æ•°
â”‚   â”œâ”€â”€ setBasicTypes() - è®¾ç½®åŸºæœ¬ç±»å‹
â”‚   â”œâ”€â”€ setBytesData() - è®¾ç½®å­—èŠ‚æ•°æ®
â”‚   â”œâ”€â”€ setFixedArrayValue() - è®¾ç½®å›ºå®šæ•°ç»„å€¼
â”‚   â”œâ”€â”€ addMatrixRow() - æ·»åŠ çŸ©é˜µè¡Œ
â”‚   â”œâ”€â”€ setNestedMapping() - è®¾ç½®åµŒå¥—æ˜ å°„
â”‚   â”œâ”€â”€ createPersonStruct() - åˆ›å»ºPersonç»“æ„ä½“
â”‚   â””â”€â”€ setEnumValues() - è®¾ç½®æšä¸¾å€¼
â”‚
â”œâ”€â”€ ğŸ’° æ”¯ä»˜ç›¸å…³å‡½æ•°
â”‚   â”œâ”€â”€ deposit() - å­˜æ¬¾å‡½æ•° (payable)
â”‚   â”‚   â”œâ”€â”€ æ¥æ”¶ä»¥å¤ªå¸
â”‚   â”‚   â”œâ”€â”€ msg.value è·å–é‡‘é¢
â”‚   â”‚   â””â”€â”€ æ›´æ–°ç”¨æˆ·ä½™é¢
â”‚   â”‚
â”‚   â””â”€â”€ withdraw() - æå–å‡½æ•°
â”‚       â”œâ”€â”€ ä½™é¢æ£€æŸ¥
â”‚       â”œâ”€â”€ å®‰å…¨è½¬è´¦
â”‚       â””â”€â”€ é˜²é‡å…¥æ”»å‡»
â”‚
â””â”€â”€ ğŸ¯ ç‰¹æ®Šå‡½æ•°
    â”œâ”€â”€ receive() - æ¥æ”¶å‡½æ•°
    â”‚   â”œâ”€â”€ external payable
    â”‚   â”œâ”€â”€ è‡ªåŠ¨è§¦å‘
    â”‚   â””â”€â”€ gasé™åˆ¶2300
    â”‚
    â””â”€â”€ destroy() - é”€æ¯å‡½æ•°
        â”œâ”€â”€ selfdestruct()
        â”œâ”€â”€ è½¬ç§»ä½™é¢
        â””â”€â”€ ä¸å¯é€†æ“ä½œ
```

## ğŸ“Š æ•°æ®ç±»å‹ç‰¹æ€§å¯¹æ¯”

| ç±»å‹ | å¤§å° | èŒƒå›´ | Gasæ¶ˆè€— | æ‰“åŒ…ç‰¹æ€§ |
|------|------|------|---------|----------|
| bool | 1å­—èŠ‚ | true/false | ä½ | å¯æ‰“åŒ… |
| uint8 | 1å­—èŠ‚ | 0-255 | ä½ | å¯æ‰“åŒ… |
| uint128 | 16å­—èŠ‚ | 0-2^128-1 | ä¸­ | ä¸¤ä¸ªå¯å…±äº«æ§½ |
| uint256 | 32å­—èŠ‚ | 0-2^256-1 | ä¸­ | å æ»¡ä¸€ä¸ªæ§½ |
| address | 20å­—èŠ‚ | ä»¥å¤ªåŠåœ°å€ | ä¸­ | å¯ä¸å°ç±»å‹æ‰“åŒ… |
| bytes32 | 32å­—èŠ‚ | å›ºå®š32å­—èŠ‚ | ä¸­ | å æ»¡ä¸€ä¸ªæ§½ |
| string | å˜é•¿ | UTF-8å­—ç¬¦ä¸² | é«˜ | å•ç‹¬å­˜å‚¨ |
| bytes | å˜é•¿ | åŠ¨æ€å­—èŠ‚ | é«˜ | å•ç‹¬å­˜å‚¨ |

## ğŸ¨ å‡½æ•°ç±»å‹ç‰¹æ€§

```
å‡½æ•°ç±»å‹
â”œâ”€â”€ çŠ¶æ€å¯å˜æ€§
â”‚   â”œâ”€â”€ pure - ä¸è¯»ä¸å†™çŠ¶æ€
â”‚   â”œâ”€â”€ view - åªè¯»çŠ¶æ€
â”‚   â”œâ”€â”€ æ— ä¿®é¥°ç¬¦ - å¯è¯»å†™çŠ¶æ€
â”‚   â””â”€â”€ payable - å¯æ¥æ”¶ä»¥å¤ªå¸
â”‚
â”œâ”€â”€ å¯è§æ€§
â”‚   â”œâ”€â”€ public - å†…å¤–éƒ¨éƒ½å¯è°ƒç”¨
â”‚   â”œâ”€â”€ external - åªèƒ½å¤–éƒ¨è°ƒç”¨
â”‚   â”œâ”€â”€ internal - å†…éƒ¨å’Œç»§æ‰¿å¯è°ƒç”¨
â”‚   â””â”€â”€ private - åªèƒ½å†…éƒ¨è°ƒç”¨
â”‚
â””â”€â”€ ä¿®é¥°ç¬¦
    â”œâ”€â”€ onlyOwner - æƒé™æ§åˆ¶
    â”œâ”€â”€ whenActive - çŠ¶æ€æ§åˆ¶
    â””â”€â”€ è‡ªå®šä¹‰ä¿®é¥°ç¬¦ - æ¡ä»¶æ£€æŸ¥
```

## ğŸ”„ Gas æ¶ˆè€—æ¨¡å¼

```
Gas æ¶ˆè€—ç­‰çº§
â”œâ”€â”€ å…è´¹ (æœ¬åœ°è°ƒç”¨)
â”‚   â”œâ”€â”€ view å‡½æ•°
â”‚   â”œâ”€â”€ pure å‡½æ•°
â”‚   â””â”€â”€ constant æŸ¥è¯¢
â”‚
â”œâ”€â”€ ä½æ¶ˆè€—
â”‚   â”œâ”€â”€ è¯»å–storage
â”‚   â”œâ”€â”€ åŸºæœ¬è¿ç®—
â”‚   â””â”€â”€ äº‹ä»¶è®°å½•
â”‚
â”œâ”€â”€ ä¸­ç­‰æ¶ˆè€—
â”‚   â”œâ”€â”€ å†™å…¥storage
â”‚   â”œâ”€â”€ mappingæ“ä½œ
â”‚   â””â”€â”€ æ•°ç»„push
â”‚
â””â”€â”€ é«˜æ¶ˆè€—
    â”œâ”€â”€ åˆçº¦åˆ›å»º
    â”œâ”€â”€ å¤§æ•°ç»„æ“ä½œ
    â””â”€â”€ å¤æ‚è®¡ç®—
```

## ğŸ›¡ï¸ å®‰å…¨æ¨¡å¼

```
å®‰å…¨æœ€ä½³å®è·µ
â”œâ”€â”€ æ£€æŸ¥-æ•ˆæœ-äº¤äº’æ¨¡å¼
â”‚   â”œâ”€â”€ 1. æ¡ä»¶æ£€æŸ¥ (require)
â”‚   â”œâ”€â”€ 2. çŠ¶æ€ä¿®æ”¹
â”‚   â””â”€â”€ 3. å¤–éƒ¨è°ƒç”¨
â”‚
â”œâ”€â”€ æƒé™æ§åˆ¶
â”‚   â”œâ”€â”€ onlyOwner ä¿®é¥°ç¬¦
â”‚   â”œâ”€â”€ è§’è‰²ç®¡ç†
â”‚   â””â”€â”€ å¤šé‡ç­¾å
â”‚
â”œâ”€â”€ æº¢å‡ºä¿æŠ¤
â”‚   â”œâ”€â”€ Solidity 0.8+ è‡ªåŠ¨æ£€æŸ¥
â”‚   â”œâ”€â”€ SafeMath åº“
â”‚   â””â”€â”€ è¾¹ç•ŒéªŒè¯
â”‚
â””â”€â”€ é‡å…¥æ”»å‡»é˜²æŠ¤
    â”œâ”€â”€ å…ˆä¿®æ”¹çŠ¶æ€
    â”œâ”€â”€ åæ‰§è¡Œè½¬è´¦
    â””â”€â”€ ReentrancyGuard
```

è¿™ä¸ªæ€ç»´å¯¼å›¾æ¶µç›–äº†æ‚¨çš„ Solidity åˆçº¦ä¸­çš„æ‰€æœ‰ä¸»è¦æ¦‚å¿µå’Œç‰¹æ€§ï¼Œå¯ä»¥ä½œä¸ºå­¦ä¹ å’Œå‚è€ƒçš„å®Œæ•´æŒ‡å—ï¼
